# 0917_ws

### 1. Password Change

```python

@login_required
def change_pw(request):
    if request.method=='POST':
        form = PasswordChangeForm(request.user,data=request.POST) #이전의 비밀번호를 가지고 와서 새 비번이 기존의 비밀번호와 같은지 확인하기 위함
        if form.is_valid():
            form.save()
            update_session_auth_hash(request,request.user) #request.user
            return redirect('accounts:update')
    else:
        form=PasswordChangeForm(request.user)
    context={
        'form':form,
    }
    return render(request,'accounts/pw.html',context)
```



![image-20200917174251628](C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20200917174251628.png)