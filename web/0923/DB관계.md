### 1:N

```
Article : Comment

User(대체 작업을 했음.) : Article

User : Comment (외래키 두개)
```

- User입장에서 comment 를 역참조할때는?

  user=User.objects.get(pk=1)

  user.comment_set.all() # 1번유저가 자신이 작성한 모든 댓글을 가져오는 방법

## User

> 아무것도 없어보이지만 위에서부터 상속 받는 것들이 많다. 
>
> 공식문서를 확인해보자 

- Referencing the User model (유저 모델 참조)

  - settings.AUTH_USER_MODEL
    - 유저 모델에 대한 외래 키 또는 다 대 다 관계를 정의할 때 사용
    - 즉, models.py 에서 유저 모델을 참조할 때 사용 
  - get-user_model()
    - django 는 유저 모델을 직접 참조하는 대신 get_user_model() 을 사용하여 유저 모델을 참조하라고 함
    - 현재 활성 유저모델을 받는 경우
    - 즉, models.py 가 아닌 다른 모든 곳에서 유저 모델을 참조할 때 사용

- Abstract base classes

  - 몇 가지 공통 정보를 여러 다른 모델에 넣을 때 사용하는 클래스
  - 데이터베이스 테이블을 만드는 데 사용되지 않으며, 대신 다른 모델의 기본 클래스로 사용되는 경우, 해당 필드가 하위 클래스의 필드에 추가됨.

  ```python
  abstract= True
  
  위에 정의해준 field를 상속 받는 친구들도 받게된다. 
  ```



### M:N

- 모델링

  - 현실세게를 최대한 유사하게 반영하기 위함
  - 일상에 가까운 예시를 통해 DB를 모델링하고, 내부에서 일어나는 데이터의 흐름을 어떻게 제어할 수 있는지에 대해 고민..

  ```
  EX) 우리 병원에 내원하는 환자와 의사간의 예약시스템 구축. 
  환자와 의사 연결 1:n,n:m? 1:1...?? 고민 해봐야함.
  
  의사 - 환자 (1:N)
  -다른 의사에게 방문한 기록은 어떻게?
  -방문예약을 바꾸는 것이 불가능
  
  결론적으로, 1:N 은 안된다
  
  
  ```

  





